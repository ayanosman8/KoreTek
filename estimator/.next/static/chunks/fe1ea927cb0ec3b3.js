(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4357,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566),r=e.i(71689),l=e.i(16715),i=e.i(70756),c=e.i(56909),n=e.i(37727),d=e.i(7233),o=e.i(27612),h=e.i(75254);let x=(0,h.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),u=(0,h.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),m=(0,h.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var p=e.i(64659);let b=(0,h.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),g=(0,h.default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var f=e.i(63209);let j=(0,h.default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),w=(0,h.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),v=(0,h.default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var y=e.i(50570),N=e.i(69296);function k(){return(0,s.jsx)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6 animate-pulse",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-3 bg-white/10 rounded w-24 mb-2"}),(0,s.jsx)("div",{className:"h-12 bg-white/10 rounded"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-3 bg-white/10 rounded w-20 mb-2"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-10 bg-white/10 rounded"}),(0,s.jsx)("div",{className:"h-10 bg-white/10 rounded"}),(0,s.jsx)("div",{className:"h-10 bg-white/10 rounded w-3/4"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsx)("div",{className:"h-10 bg-white/10 rounded w-32"}),(0,s.jsx)("div",{className:"h-10 bg-white/10 rounded w-24"})]})]})})}function _({delay:e=0}){return(0,s.jsx)("div",{className:"bg-black/30 border border-white/10 rounded-xl p-6 animate-pulse",style:{animationDelay:`${e}ms`},children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-1 h-10 bg-white/10 rounded-lg"}),(0,s.jsx)("div",{className:"h-10 w-20 bg-white/10 rounded-lg"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-white/10 rounded w-full"}),(0,s.jsx)("div",{className:"h-4 bg-white/10 rounded w-4/5"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-3 bg-blue-400/20 rounded w-12 mb-1"}),(0,s.jsx)("div",{className:"h-9 bg-white/10 rounded-lg"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-3 bg-green-400/20 rounded w-20 mb-1"}),(0,s.jsx)("div",{className:"h-9 bg-white/10 rounded-lg"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-3 bg-purple-400/20 rounded w-16 mb-1"}),(0,s.jsx)("div",{className:"h-9 bg-white/10 rounded-lg"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-3 bg-orange-400/20 rounded w-24 mb-1"}),(0,s.jsx)("div",{className:"h-9 bg-white/10 rounded-lg"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-3 bg-orange-400/20 rounded w-16 mb-1"}),(0,s.jsx)("div",{className:"h-9 bg-white/10 rounded-lg"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-3 bg-blue-400/20 rounded w-32 mb-1"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-white/10 rounded w-full"}),(0,s.jsx)("div",{className:"h-4 bg-white/10 rounded w-3/4"})]})]})]})})}function C({delay:e=0}){return(0,s.jsx)("div",{className:"bg-black/30 border border-white/10 rounded-lg p-4 animate-pulse",style:{animationDelay:`${e}ms`},children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-white/10 rounded-md flex-shrink-0"}),(0,s.jsx)("div",{className:"flex-1 h-10 bg-white/10 rounded"}),(0,s.jsx)("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex-shrink-0"})]})})}function A({activeTab:e}){return(0,s.jsxs)("div",{children:["features"===e&&(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("div",{className:"h-8 bg-white/10 rounded w-40 animate-pulse"}),(0,s.jsx)("div",{className:"h-10 bg-white/10 rounded w-48 animate-pulse"})]}),(0,s.jsx)("div",{className:"space-y-6",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(_,{delay:100*t},t))})]}),"checklist"===e&&(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("div",{className:"h-8 bg-white/10 rounded w-64 animate-pulse"}),(0,s.jsx)("div",{className:"h-10 bg-white/10 rounded w-48 animate-pulse"})]}),(0,s.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(C,{delay:100*t},t))})]})]})}function S(){let[e,h]=(0,t.useState)(null),[_,C]=(0,t.useState)(!0),[S,P]=(0,t.useState)(!1),[T,D]=(0,t.useState)(!1),[F,E]=(0,t.useState)(null),[$,M]=(0,t.useState)({}),[O,R]=(0,t.useState)(!1),[I,q]=(0,t.useState)("features"),[z,B]=(0,t.useState)(new Set),[X,H]=(0,t.useState)(null),[U,V]=(0,t.useState)(!1),[L,J]=(0,t.useState)(!1),[G,K]=(0,t.useState)(null),Q=(0,a.useRouter)(),W=(0,a.useParams)().id;(0,t.useEffect)(()=>{Z()},[W]);let Z=async()=>{let e=(0,N.createClient)(),{data:{user:s}}=await e.auth.getUser();if(!s)return void Q.push("/");let{data:t}=await e.from("profiles").select("subscription_status, has_paid").eq("id",s.id).single();t&&P("active"===(t.subscription_status||(t.has_paid?"active":null)));let a=await fetch(`/api/blueprints/${W}`);if(!a.ok)return void Q.push("/dashboard");let r=await a.json(),l=(r.blueprint.features||[]).map(e=>"object"==typeof e&&e.hasOwnProperty("name")?{name:e.name||"",description:e.description||"",tier:e.tier||"free",tech:e.tech||{packages:[],services:[]},database:e.database||{tables:[],fields:[]},implementation:e.implementation||"",inspiration:e.inspiration||[],tasks:e.tasks||[]}:{name:"string"==typeof e?e:"",description:"",tier:"free",tech:{packages:[],services:[]},database:{tables:[],fields:[]},implementation:"",inspiration:[],tasks:[]}),i={...r.blueprint.tech_stack,payment_apis:r.blueprint.tech_stack?.payment_apis?.length>0?r.blueprint.tech_stack.payment_apis:["Stripe","PayPal"],ai_apis:r.blueprint.tech_stack?.ai_apis?.length>0?r.blueprint.tech_stack.ai_apis:["OpenAI","Anthropic"]};h({...r.blueprint,features:l,tech_stack:i});let c=r.blueprint.checklist||[];0===c.length&&l.length>0&&(c=l.map(e=>({text:e.name||"Unnamed Feature",status:"pending",notes:[],issues:[]}))),M({features:l,next_steps:r.blueprint.next_steps||[],checklist:c}),C(!1)},Y=async s=>{if(e){R(!0);try{let e={};e[s]=$[s];let t=await fetch(`/api/blueprints/${W}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to save");let a=await t.json();h(a.blueprint),M({...$,[s]:a.blueprint[s]})}catch(e){console.error("Error saving section:",e),alert("Failed to save changes. Please try again.")}finally{R(!1)}}},ee=()=>{H(null)},es=async()=>{if(!S)return void D(!0);if(e){V(!0);try{let s=e.features.map(e=>"object"==typeof e&&e.name?e.name:e),t=await fetch("/api/suggest-project-name",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectDescription:e.project_description,currentName:e.project_name,features:s})});if(!t.ok)throw Error("Failed to suggest name");let a=await t.json();M({...$,project_name:a.name})}catch(e){console.error("Error suggesting name:",e),alert("Failed to generate name suggestion. Please try again.")}finally{V(!1)}}},et=async()=>{if(!S)return void D(!0);if(e){J(!0);try{let s=e.features.map(e=>"object"==typeof e&&e.name?e.name:e),t=await fetch("/api/suggest-project-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectDescription:e.project_description,projectName:$.project_name||e.project_name,features:s})});if(!t.ok)throw Error("Failed to suggest summary");let a=await t.json();M({...$,summary:a.summary})}catch(e){console.error("Error suggesting summary:",e),alert("Failed to generate summary suggestion. Please try again.")}finally{J(!1)}}};return _&&!e?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-white/30 border-t-white rounded-full animate-spin"})}):(e||_)&&e?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/3 via-transparent to-blue-500/3"}),(0,s.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),(0,s.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl"}),(0,s.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-12",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("button",{onClick:()=>Q.push("/dashboard"),className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors mb-6",children:[(0,s.jsx)(r.ArrowLeft,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Back to Dashboard"})]}),_?(0,s.jsx)(k,{}):(0,s.jsx)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-4 sm:p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-white/60 mb-2",children:"Project Name"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,s.jsx)("input",{type:"text",value:$.project_name||e.project_name,onChange:e=>M({...$,project_name:e.target.value}),className:"flex-1 px-4 py-3 bg-black/30 border border-white/20 rounded-lg text-white text-xl sm:text-2xl font-extralight focus:outline-none focus:ring-2 focus:ring-blue-500/50",placeholder:"Project Name"}),(0,s.jsxs)("button",{onClick:es,disabled:U,className:"px-4 py-2 bg-gradient-to-r from-emerald-500/80 to-teal-500/80 hover:from-emerald-500 hover:to-teal-500 text-white rounded-lg flex items-center justify-center gap-2 transition-all shadow-lg shadow-emerald-500/20 disabled:opacity-50 whitespace-nowrap",children:[U?(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,s.jsx)(l.RefreshCw,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:U?"Generating...":`Suggest ${!S?"(Pro)":""}`}),(0,s.jsx)("span",{className:"sm:hidden",children:U?"...":"Suggest"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-white/60 mb-2",children:"Summary"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,s.jsx)("textarea",{value:$.summary||e.summary||"",onChange:e=>M({...$,summary:e.target.value}),rows:3,className:"flex-1 px-4 py-3 bg-black/30 border border-white/20 rounded-lg text-white font-light focus:outline-none focus:ring-2 focus:ring-blue-500/50",placeholder:"Project summary"}),(0,s.jsxs)("button",{onClick:et,disabled:L,className:"px-4 py-2 bg-gradient-to-r from-emerald-500/80 to-teal-500/80 hover:from-emerald-500 hover:to-teal-500 text-white rounded-lg flex items-center justify-center gap-2 transition-all shadow-lg shadow-emerald-500/20 sm:self-start disabled:opacity-50 whitespace-nowrap",children:[L?(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,s.jsx)(l.RefreshCw,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:L?"Generating...":`Suggest ${!S?"(Pro)":""}`}),(0,s.jsx)("span",{className:"sm:hidden",children:L?"...":"Suggest"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-white/60 mb-2",children:"Main Tech Stack"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-cyan-400 mb-1",children:"Frontend"}),(0,s.jsx)("input",{type:"text",value:Array.isArray(e.tech_stack?.frontend)?e.tech_stack.frontend.join(", "):"",onChange:s=>{let t={...e.tech_stack,frontend:s.target.value.split(",").map(e=>e.trim()).filter(Boolean)};M({...$,tech_stack:t})},className:"w-full px-3 py-2 bg-black/30 border border-cyan-500/20 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/50",placeholder:"Next.js, React"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-emerald-400 mb-1",children:"Backend"}),(0,s.jsx)("input",{type:"text",value:Array.isArray(e.tech_stack?.backend)?e.tech_stack.backend.join(", "):"",onChange:s=>{let t={...e.tech_stack,backend:s.target.value.split(",").map(e=>e.trim()).filter(Boolean)};M({...$,tech_stack:t})},className:"w-full px-3 py-2 bg-black/30 border border-emerald-500/20 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50",placeholder:"Node.js, Express"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-violet-400 mb-1",children:"Database"}),(0,s.jsx)("input",{type:"text",value:Array.isArray(e.tech_stack?.database)?e.tech_stack.database.join(", "):"",onChange:s=>{let t={...e.tech_stack,database:s.target.value.split(",").map(e=>e.trim()).filter(Boolean)};M({...$,tech_stack:t})},className:"w-full px-3 py-2 bg-black/30 border border-violet-500/20 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-violet-500/50",placeholder:"PostgreSQL, Supabase"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-white/60 mb-1",children:"Payment APIs"}),(0,s.jsx)("input",{type:"text",value:Array.isArray(e.tech_stack?.payment_apis)?e.tech_stack.payment_apis.join(", "):"",onChange:s=>{let t={...e.tech_stack,payment_apis:s.target.value.split(",").map(e=>e.trim()).filter(Boolean)};M({...$,tech_stack:t})},className:"w-full px-3 py-2 bg-black/30 border border-white/20 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50",placeholder:"Stripe, PayPal"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-white/60 mb-1",children:"AI APIs"}),(0,s.jsx)("input",{type:"text",value:Array.isArray(e.tech_stack?.ai_apis)?e.tech_stack.ai_apis.join(", "):"",onChange:s=>{let t={...e.tech_stack,ai_apis:s.target.value.split(",").map(e=>e.trim()).filter(Boolean)};M({...$,tech_stack:t})},className:"w-full px-3 py-2 bg-black/30 border border-white/20 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50",placeholder:"OpenAI, Anthropic"})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[(0,s.jsxs)("button",{onClick:async()=>{R(!0);try{let s=await fetch(`/api/blueprints/${W}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_name:$.project_name||e.project_name,summary:$.summary||e.summary,tech_stack:$.tech_stack||e.tech_stack})});if(!s.ok)throw Error("Failed to save");let t=await s.json();h(t.blueprint),M({...$,project_name:"",summary:"",tech_stack:void 0})}catch(e){console.error("Error saving header:",e),alert("Failed to save changes. Please try again.")}finally{R(!1)}},disabled:O,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50 text-sm",children:[(0,s.jsx)(c.Save,{className:"w-4 h-4"}),O?"Saving...":"Save Changes"]}),(0,s.jsxs)("button",{onClick:()=>M({...$,project_name:"",summary:"",tech_stack:void 0}),disabled:O,className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50 text-sm",children:[(0,s.jsx)(n.X,{className:"w-4 h-4"}),"Reset"]})]})]})})]}),(0,s.jsxs)("div",{className:"mb-6 sm:mb-8 bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-2 flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>q("features"),className:`flex-1 px-3 sm:px-6 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 text-sm sm:text-base ${"features"===I?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/20":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[(0,s.jsx)(w,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Features"})]}),(0,s.jsxs)("button",{onClick:()=>q("checklist"),className:`flex-1 px-3 sm:px-6 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 text-sm sm:text-base ${"checklist"===I?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/20":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[(0,s.jsx)(v,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Checklist"})]})]}),(0,s.jsx)("div",{className:"mb-12",children:_?(0,s.jsx)(A,{activeTab:I}):(0,s.jsxs)(s.Fragment,{children:["features"===I&&(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-4 sm:p-6 md:p-8 relative",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-light text-white",children:"Features"}),(0,s.jsxs)("button",{onClick:()=>{M({...$,features:[...$.features||[],{name:"",description:"",tier:"free",tech:{packages:["react-query","axios","zustand"],services:["Vercel","Supabase"]},resources:[]}]}),B(new Set([...z,$.features.length]))},className:"w-full sm:w-auto px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg flex items-center justify-center gap-2 transition-all shadow-lg shadow-blue-500/20 text-sm",children:[(0,s.jsx)(d.Plus,{className:"w-4 h-4"}),"Add Feature"]})]}),(0,s.jsx)("div",{className:"space-y-4",children:$.features?.map((e,t)=>{let a="object"==typeof e&&e.hasOwnProperty("name"),r=z.has(t);return(0,s.jsx)("div",{draggable:!0,onDragStart:()=>{H(t)},onDragOver:e=>((e,s)=>{if(e.preventDefault(),e.stopPropagation(),null===X||X===s)return;let t=[...$.features],a=t[X];t.splice(X,1),t.splice(s,0,a),M({...$,features:t}),H(s)})(e,t),onDragEnd:ee,className:`group cursor-move ${X===t?"opacity-50":""}`,children:a?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)("div",{className:"flex-shrink-0 pt-2 cursor-move",children:(0,s.jsx)(y.GripVertical,{className:"w-4 h-4 text-white/30"})}),(0,s.jsx)("button",{onClick:()=>{let e=new Set(z);r?e.delete(t):e.add(t),B(e)},className:"flex-shrink-0 p-2 hover:bg-white/5 rounded transition-colors",children:r?(0,s.jsx)(p.ChevronDown,{className:"w-4 h-4 text-white/60"}):(0,s.jsx)(b,{className:"w-4 h-4 text-white/60"})}),(0,s.jsx)("input",{type:"text",value:e.name||"",onChange:s=>{let a=[...$.features];a[t]={...e,name:s.target.value},M({...$,features:a})},className:"flex-1 px-4 py-2 bg-black/40 border border-white/20 rounded-lg text-white font-light focus:outline-none focus:ring-2 focus:ring-blue-500/50",placeholder:"Feature Name"}),(0,s.jsx)("button",{onClick:()=>{let e=$.features.filter((e,s)=>s!==t);M({...$,features:e})},className:"p-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-400 rounded-lg transition-colors",children:(0,s.jsx)(o.Trash2,{className:"w-4 h-4"})})]}),r&&(0,s.jsxs)("div",{className:"space-y-6 pl-6 pt-4 border-t border-white/5",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("label",{className:"text-xs text-white/40 w-16",children:"Tier"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:e.tier||"free",onChange:s=>{let a=[...$.features];a[t]={...e,tier:s.target.value},M({...$,features:a})},className:"appearance-none pl-3 pr-8 py-2 bg-black/40 border border-white/20 rounded-lg text-white text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500/50 cursor-pointer hover:border-white/30 transition-colors",children:[(0,s.jsx)("option",{value:"free",children:"FREE"}),(0,s.jsx)("option",{value:"pro",children:"PRO"})]}),(0,s.jsx)(p.ChevronDown,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40 pointer-events-none"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-white/40 mb-1.5",children:"Description"}),(0,s.jsx)("textarea",{value:e.description||"",onChange:s=>{let a=[...$.features];a[t]={...e,description:s.target.value},M({...$,features:a})},rows:2,className:"w-full px-3 py-2 bg-black/40 border border-white/20 rounded text-white text-sm font-light focus:outline-none focus:ring-1 focus:ring-blue-500/50",placeholder:"What does this feature do?"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h4",{className:"text-xs font-medium text-white/60 uppercase tracking-wider",children:"Tech Stack"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("label",{className:"text-sm text-white/70",children:"NPM Packages"}),(0,s.jsxs)("button",{onClick:()=>{let s=[...$.features],a=Array.isArray(e.tech?.packages)?e.tech.packages:[];s[t]={...e,tech:{...e.tech||{},packages:[...a,""]}},M({...$,features:s})},className:"text-sm text-white/60 hover:text-white/80 flex items-center gap-1",children:[(0,s.jsx)(d.Plus,{className:"w-4 h-4"}),"Add"]})]}),(0,s.jsx)("div",{className:"space-y-2",children:Array.isArray(e.tech?.packages)&&e.tech.packages.map((a,r)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:a,onChange:s=>{let a=[...$.features],l=[...e.tech.packages];l[r]=s.target.value,a[t]={...e,tech:{...e.tech||{},packages:l}},M({...$,features:a})},className:"flex-1 px-3 py-2 bg-black/40 border border-white/20 rounded text-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500/50",placeholder:"react-native-voice"}),(0,s.jsx)("button",{onClick:()=>{let s=[...$.features],a=e.tech.packages.filter((e,s)=>s!==r);s[t]={...e,tech:{...e.tech||{},packages:a}},M({...$,features:s})},className:"p-2 text-red-400 hover:text-red-300",children:(0,s.jsx)(n.X,{className:"w-4 h-4"})})]},r))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("label",{className:"text-sm text-white/70",children:"Services"}),(0,s.jsxs)("button",{onClick:()=>{let s=[...$.features],a=Array.isArray(e.tech?.services)?e.tech.services:[];s[t]={...e,tech:{...e.tech||{},services:[...a,""]}},M({...$,features:s})},className:"text-sm text-white/60 hover:text-white/80 flex items-center gap-1",children:[(0,s.jsx)(d.Plus,{className:"w-4 h-4"}),"Add"]})]}),(0,s.jsx)("div",{className:"space-y-2",children:Array.isArray(e.tech?.services)&&e.tech.services.map((a,r)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:a,onChange:s=>{let a=[...$.features],l=[...e.tech.services];l[r]=s.target.value,a[t]={...e,tech:{...e.tech||{},services:l}},M({...$,features:a})},className:"flex-1 px-3 py-2 bg-black/40 border border-white/20 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50",placeholder:"Vercel, Supabase"}),(0,s.jsx)("button",{onClick:()=>{let s=[...$.features],a=e.tech.services.filter((e,s)=>s!==r);s[t]={...e,tech:{...e.tech||{},services:a}},M({...$,features:s})},className:"p-2 text-red-400 hover:text-red-300",children:(0,s.jsx)(n.X,{className:"w-4 h-4"})})]},r))})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h4",{className:"text-xs font-medium text-white/60 uppercase tracking-wider",children:"Resources"}),(0,s.jsxs)("div",{className:"space-y-2",children:[Array.isArray(e.resources)&&e.resources.map((a,r)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center gap-2 px-3 py-2 bg-black/40 border border-white/20 rounded text-white text-sm hover:bg-black/60 transition-colors group",children:[(0,s.jsx)(x,{className:"w-4 h-4 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate flex-1",children:a})]}),(0,s.jsx)("button",{onClick:()=>{let s=[...$.features],a=e.resources.filter((e,s)=>s!==r);s[t]={...e,resources:a},M({...$,features:s})},className:"p-2 text-red-400 hover:text-red-300",children:(0,s.jsx)(n.X,{className:"w-4 h-4"})})]},r)),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"url",placeholder:"Paste link, documentation, tutorial, etc...",className:"flex-1 px-3 py-2 bg-black/40 border border-white/20 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50",onKeyDown:s=>{if("Enter"===s.key&&s.currentTarget.value.trim()){let a=[...$.features],r=Array.isArray(e.resources)?e.resources:[];a[t]={...e,resources:[...r,s.currentTarget.value.trim()]},M({...$,features:a}),s.currentTarget.value=""}}}),(0,s.jsxs)("button",{onClick:s=>{let a=s.currentTarget.previousElementSibling;if(a&&a.value.trim()){let s=[...$.features],r=Array.isArray(e.resources)?e.resources:[];s[t]={...e,resources:[...r,a.value.trim()]},M({...$,features:s}),a.value=""}},className:"px-3 py-2 text-white/60 hover:text-white/80 flex items-center gap-1 text-sm",children:[(0,s.jsx)(d.Plus,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Add"})]})]})]})]})]})]}):(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)("input",{type:"text",value:e,onChange:e=>{let s=[...$.features];s[t]=e.target.value,M({...$,features:s})},className:"flex-1 px-4 py-2 bg-black/40 border border-white/20 rounded-lg text-white font-light focus:outline-none focus:ring-2 focus:ring-blue-500/50"}),(0,s.jsx)("button",{onClick:()=>{let e=$.features.filter((e,s)=>s!==t);M({...$,features:e})},className:"p-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-400 rounded-lg transition-colors",children:(0,s.jsx)(o.Trash2,{className:"w-4 h-4"})})]})},t)})}),(0,s.jsxs)("div",{className:"flex gap-2 pt-6 border-t border-white/5 mt-6",children:[(0,s.jsxs)("button",{onClick:()=>Y("features"),disabled:O,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all flex items-center gap-2 disabled:opacity-50 text-sm",children:[(0,s.jsx)(c.Save,{className:"w-4 h-4"}),O?"Saving...":"Save Changes"]}),(0,s.jsxs)("button",{onClick:()=>M({...$,features:e.features}),disabled:O,className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg transition-all flex items-center gap-2 disabled:opacity-50 text-sm",children:[(0,s.jsx)(n.X,{className:"w-4 h-4"}),"Reset"]})]})]}),"checklist"===I&&(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-4 sm:p-6 md:p-8 relative",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-light text-white",children:"Implementation Checklist"}),(0,s.jsxs)("button",{onClick:()=>{M({...$,checklist:[...$.checklist||[],{text:"",status:"pending",notes:[],issues:[]}]})},className:"w-full sm:w-auto px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg flex items-center justify-center gap-2 transition-all shadow-lg shadow-blue-500/20 text-sm",children:[(0,s.jsx)(d.Plus,{className:"w-4 h-4"}),"Add Item"]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[$.checklist?.map((e,t)=>{let a,r,l=z.has(`checklist-${t}`),i=e.status||"pending";return(0,s.jsx)("div",{className:"bg-black/30 border border-white/10 rounded-lg group hover:border-white/20 transition-all",children:(0,s.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("button",{onClick:()=>{let e=new Set(z);l?e.delete(`checklist-${t}`):e.add(`checklist-${t}`),B(e)},className:"flex-shrink-0 p-2 hover:bg-white/5 rounded transition-colors",children:l?(0,s.jsx)(p.ChevronDown,{className:"w-4 h-4 text-white/60"}):(0,s.jsx)(b,{className:"w-4 h-4 text-white/60"})}),(0,s.jsxs)("button",{onClick:()=>{let s=[...$.checklist];s[t]={...e,status:"pending"===i?"in_progress":"in_progress"===i?"completed":"pending"},M({...$,checklist:s})},className:`flex-shrink-0 w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all ${"completed"===i?"bg-green-500 border-green-500":"in_progress"===i?"bg-yellow-500 border-yellow-500":"bg-black/40 border-white/20 hover:border-white/40"}`,title:"pending"===i?"Not started":"in_progress"===i?"In progress":"Completed",children:["completed"===i&&(0,s.jsx)(u,{className:"w-4 h-4 text-white"}),"in_progress"===i&&(0,s.jsx)(g,{className:"w-4 h-4 text-white"})]}),(0,s.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,s.jsx)("input",{type:"text",value:e.text||"",onChange:s=>{let a=[...$.checklist];a[t]={...e,text:s.target.value},M({...$,checklist:a})},className:`flex-1 px-3 py-2 bg-transparent border-none text-white focus:outline-none ${"completed"===i?"line-through text-white/40":""}`,placeholder:"Add checklist item..."}),"in_progress"===i&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-yellow-500/20 border border-yellow-500/40 rounded-md text-xs font-medium text-yellow-400 flex items-center gap-1 whitespace-nowrap",children:[(0,s.jsx)(g,{className:"w-3 h-3"}),"In Progress"]})]}),(0,s.jsx)("button",{onClick:()=>{let e=$.checklist.filter((e,s)=>s!==t);M({...$,checklist:e})},className:"flex-shrink-0 p-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-400 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:(0,s.jsx)(o.Trash2,{className:"w-4 h-4"})})]}),l&&(0,s.jsxs)("div",{className:"mt-4 pl-6 space-y-4 border-t border-white/5 pt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"text-sm text-white/70 flex items-center gap-2 mb-2",children:[(0,s.jsx)(j,{className:"w-4 h-4"}),"Notes"]}),(0,s.jsx)("div",{className:"space-y-2",children:((a=Array.isArray(e.notes)?e.notes:[]).length>0?a:[""]).map((r,l)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:r,onChange:s=>{let a=[...$.checklist],r=Array.isArray(e.notes)?[...e.notes]:[];0===r.length?r[0]=s.target.value:r[l]=s.target.value,a[t]={...e,notes:r},M({...$,checklist:a}),l===r.length-1&&s.target.value.trim()&&setTimeout(()=>{let e=[...$.checklist];e[t]={...e[t],notes:[...r,""]},M({...$,checklist:e})},0)},className:"flex-1 px-3 py-2 bg-black/40 border border-white/20 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50",placeholder:"Add a note..."}),a.length>0&&(l<a.length||r.trim())&&(0,s.jsx)("button",{onClick:()=>{let s=[...$.checklist],a=e.notes.filter((e,s)=>s!==l);s[t]={...e,notes:a},M({...$,checklist:s})},className:"p-2 text-red-400 hover:text-red-300",children:(0,s.jsx)(n.X,{className:"w-4 h-4"})})]},l))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"text-sm text-white/70 flex items-center gap-2 mb-2",children:[(0,s.jsx)(f.AlertCircle,{className:"w-4 h-4"}),"Issues"]}),(0,s.jsx)("div",{className:"space-y-2",children:((r=Array.isArray(e.issues)?e.issues:[]).length>0?r:[""]).map((a,l)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:a,onChange:s=>{let a=[...$.checklist],r=Array.isArray(e.issues)?[...e.issues]:[];0===r.length?r[0]=s.target.value:r[l]=s.target.value,a[t]={...e,issues:r},M({...$,checklist:a}),l===r.length-1&&s.target.value.trim()&&setTimeout(()=>{let e=[...$.checklist];e[t]={...e[t],issues:[...r,""]},M({...$,checklist:e})},0)},className:"flex-1 px-3 py-2 bg-black/40 border border-red-500/20 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-red-500/50",placeholder:"Describe an issue or blocker..."}),r.length>0&&(l<r.length||a.trim())&&(0,s.jsx)("button",{onClick:()=>{let s=[...$.checklist],a=e.issues.filter((e,s)=>s!==l);s[t]={...e,issues:a},M({...$,checklist:s})},className:"p-2 text-red-400 hover:text-red-300",children:(0,s.jsx)(n.X,{className:"w-4 h-4"})})]},l))})]})]})]})},t)}),(!$.checklist||0===$.checklist.length)&&(0,s.jsxs)("div",{className:"text-center py-12 text-white/40",children:[(0,s.jsx)(m,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,s.jsx)("p",{children:"Checklist auto-populated from features. Add more items if needed!"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-6 border-t border-white/5 mt-6",children:[(0,s.jsxs)("button",{onClick:()=>Y("checklist"),disabled:O,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all flex items-center gap-2 disabled:opacity-50 text-sm",children:[(0,s.jsx)(c.Save,{className:"w-4 h-4"}),O?"Saving...":"Save Changes"]}),(0,s.jsxs)("button",{onClick:()=>M({...$,checklist:e.checklist||[]}),disabled:O,className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg transition-all flex items-center gap-2 disabled:opacity-50 text-sm",children:[(0,s.jsx)(n.X,{className:"w-4 h-4"}),"Reset"]})]})]})]})})]}),T&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-white/10 rounded-2xl p-8 max-w-md w-full",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(i.Lock,{className:"w-8 h-8 text-blue-400"}),(0,s.jsx)("h3",{className:"text-2xl font-light text-white",children:"Upgrade to Pro"})]}),(0,s.jsx)("p",{className:"text-white/70 mb-6 leading-relaxed",children:"Advanced insights are available exclusively for Pro users. Upgrade now to unlock target audience analysis, monetization strategies, and AI-powered feature suggestions."}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>Q.push("/dashboard/settings"),className:"flex-1 px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all font-medium",children:"Upgrade to Pro"}),(0,s.jsx)("button",{onClick:()=>D(!1),className:"px-6 py-3 bg-white/5 hover:bg-white/10 text-white rounded-lg transition-all",children:"Cancel"})]})]})})]}):null}e.s(["default",()=>S],4357)}]);