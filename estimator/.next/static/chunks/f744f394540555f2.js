(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},78928,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(75254);let l=(0,r.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),i=(0,r.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),n=(0,r.default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var d=e.i(7233),c=e.i(27612);let o=(0,r.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),h=(0,r.default)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),x=(0,r.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var u=e.i(70756),p=e.i(69296);function m({delay:e=0}){return(0,t.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6 animate-pulse",style:{animationDelay:`${e}ms`},children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"h-6 bg-white/10 rounded w-40"}),(0,t.jsx)("div",{className:"w-4 h-4 bg-white/10 rounded"})]}),(0,t.jsx)("div",{className:"h-4 bg-white/10 rounded w-24"})]}),(0,t.jsx)("div",{className:"w-5 h-5 bg-white/10 rounded"})]}),(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("div",{className:"h-6 bg-white/10 rounded-full w-20"})}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsx)("div",{className:"h-4 bg-white/10 rounded w-full"}),(0,t.jsx)("div",{className:"h-4 bg-white/10 rounded w-3/4"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,t.jsx)("div",{className:"h-6 bg-white/10 rounded w-16"}),(0,t.jsx)("div",{className:"h-6 bg-white/10 rounded w-20"}),(0,t.jsx)("div",{className:"h-6 bg-white/10 rounded w-14"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,t.jsx)("div",{className:"h-6 bg-white/10 rounded-full w-16"}),(0,t.jsx)("div",{className:"h-6 bg-white/10 rounded-full w-20"}),(0,t.jsx)("div",{className:"h-6 bg-white/10 rounded-full w-14"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("div",{className:"h-4 bg-white/10 rounded w-20"}),(0,t.jsx)("div",{className:"w-1 h-1 bg-white/10 rounded-full"}),(0,t.jsx)("div",{className:"h-4 bg-white/10 rounded w-16"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t border-white/10",children:[(0,t.jsx)("div",{className:"flex-1 h-9 bg-white/10 rounded-lg"}),(0,t.jsx)("div",{className:"h-9 w-9 bg-white/10 rounded-lg"})]})]})}function b(){return(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex-shrink-0 animate-pulse"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 bg-white/10 rounded w-16 animate-pulse"}),(0,t.jsx)("div",{className:"h-6 bg-white/10 rounded w-12 animate-pulse"})]})]})}function g(){return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,t.jsx)(m,{delay:100*s},s))})}function f(){let[e,r]=(0,s.useState)([]),[m,f]=(0,s.useState)([]),[w,j]=(0,s.useState)(!0),[v,y]=(0,s.useState)(!0),[N,k]=(0,s.useState)(null),[C,S]=(0,s.useState)(""),[_,E]=(0,s.useState)(!1),[P,T]=(0,s.useState)(!1),[M,$]=(0,s.useState)([]),[A,F]=(0,s.useState)([]),[L,B]=(0,s.useState)("all"),[U,D]=(0,s.useState)(null),[H,O]=(0,s.useState)(!1),V=(0,a.useRouter)();(0,s.useEffect)(()=>{J()},[]),(0,s.useEffect)(()=>{N&&R()},[N,_,P]),(0,s.useEffect)(()=>{z()},[e,C,M,L]);let J=async()=>{try{let e=(0,p.createClient)(),{data:{user:t}}=await e.auth.getUser();if(!t)return void V.push("/");k(t);let{data:s}=await e.from("profiles").select("subscription_status, has_paid").eq("id",t.id).single();if(s){let e=s.subscription_status||(s.has_paid?"active":null);D(e),O("active"===e)}}finally{y(!1)}},R=async()=>{j(!0);try{let e=new URLSearchParams;_&&e.append("starred","true"),P&&e.append("archived","true");let t=await fetch(`/api/blueprints?${e.toString()}`);if(!t.ok)throw Error("Failed to fetch blueprints");let s=await t.json();r(s.blueprints||[]);let a=new Set;s.blueprints?.forEach(e=>{e.tags?.forEach(e=>a.add(e))}),F(Array.from(a))}catch(e){console.error("Error fetching blueprints:",e)}finally{j(!1)}},z=()=>{let t=[...e];if(C){let e=C.toLowerCase();t=t.filter(t=>t.project_name.toLowerCase().includes(e)||t.project_description?.toLowerCase().includes(e)||t.summary?.toLowerCase().includes(e))}M.length>0&&(t=t.filter(e=>M.some(t=>e.tags?.includes(t)))),"all"!==L&&(t=t.filter(e=>e.status===L)),f(t)},I=async(t,s)=>{try{if(!(await fetch(`/api/blueprints/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_starred:!s})})).ok)throw Error("Failed to update");r(e.map(e=>e.id===t?{...e,is_starred:!s}:e))}catch(e){console.error("Error toggling star:",e)}},q=async(e,t)=>{try{if(!(await fetch(`/api/blueprints/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_archived:!t})})).ok)throw Error("Failed to update");R()}catch(e){console.error("Error toggling archive:",e)}},K=async t=>{if(confirm("Are you sure you want to delete this blueprint?"))try{if(!(await fetch(`/api/blueprints/${t}`,{method:"DELETE"})).ok)throw Error("Failed to delete");r(e.filter(e=>e.id!==t))}catch(e){console.error("Error deleting blueprint:",e)}},Y=async(t,s)=>{try{if(!(await fetch(`/api/blueprints/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_public:!s})})).ok)throw Error("Failed to update");r(e.map(e=>e.id===t?{...e,is_public:!s}:e))}catch(e){console.error("Error toggling public:",e)}},Z=async(t,s)=>{try{let a=await fetch(`/api/blueprints/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})});if(!a.ok){let e=await a.json();throw console.error("Update failed:",e),Error(e.error||"Failed to update")}r(e.map(e=>e.id===t?{...e,status:s}:e))}catch(e){console.error("Error updating status:",e),alert("Failed to update status. Check console for details.")}};return v&&!N?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500/20 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-white/60",children:"Loading..."})]})}):(0,t.jsx)("div",{className:"py-8 px-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-extralight text-white mb-1",children:"My Blueprints"}),(0,t.jsx)("p",{className:"text-white/50 text-sm",children:"Explore and manage your project ideas"})]}),(0,t.jsxs)("button",{onClick:()=>V.push("/"),className:"px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg transition-all inline-flex items-center gap-2 font-medium text-sm shadow-lg shadow-blue-500/20",children:[(0,t.jsx)(d.Plus,{className:"w-4 h-4"}),"New Blueprint"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-4",children:w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(h,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/40 text-xs font-light",children:"Total"}),(0,t.jsx)("p",{className:"text-2xl font-light text-white",children:e.length})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(i,{className:"w-5 h-5 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/40 text-xs font-light",children:"Starred"}),(0,t.jsx)("p",{className:"text-2xl font-light text-white",children:e.filter(e=>e.is_starred).length})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(o,{className:"w-5 h-5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/40 text-xs font-light",children:"This Month"}),(0,t.jsx)("p",{className:"text-2xl font-light text-white",children:e.filter(e=>{let t=new Date(e.created_at),s=new Date;return t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()}).length})]})]})]})})]}),(0,t.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(l,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),(0,t.jsx)("input",{type:"text",placeholder:"Search blueprints...",value:C,onChange:e=>S(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-black/20 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-blue-500/50 font-light"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{value:L,onChange:e=>B(e.target.value),className:"px-4 py-3 bg-black/20 border border-white/10 rounded-lg text-white/70 hover:border-white/20 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"idea",children:"Idea"}),(0,t.jsx)("option",{value:"planning",children:"Planning"}),(0,t.jsx)("option",{value:"building",children:"Building"}),(0,t.jsx)("option",{value:"shipped",children:"Shipped"})]}),(0,t.jsxs)("button",{onClick:()=>E(!_),className:`px-4 py-3 rounded-lg border transition-all inline-flex items-center gap-2 ${_?"bg-yellow-500/20 border-yellow-500/50 text-yellow-400":"bg-black/20 border-white/10 text-white/70 hover:border-white/20"}`,children:[(0,t.jsx)(i,{className:"w-4 h-4"}),"Starred"]}),(0,t.jsxs)("button",{onClick:()=>T(!P),className:`px-4 py-3 rounded-lg border transition-all inline-flex items-center gap-2 ${P?"bg-gray-500/20 border-gray-500/50 text-gray-400":"bg-black/20 border-white/10 text-white/70 hover:border-white/20"}`,children:[(0,t.jsx)(n,{className:"w-4 h-4"}),"Archived"]})]})]}),A.length>0&&(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,t.jsx)("span",{className:"text-white/50 text-sm font-light",children:"Tags:"}),A.map(e=>(0,t.jsx)("button",{onClick:()=>{$(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`px-3 py-1 rounded-full text-sm transition-all ${M.includes(e)?"bg-blue-500/30 text-blue-300 border border-blue-500/50":"bg-black/20 text-white/60 border border-white/10 hover:border-white/20"}`,children:e},e))]})]}),w?(0,t.jsx)(g,{}):0===m.length?(0,t.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[(0,t.jsx)(h,{className:"w-16 h-16 text-blue-400/50 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-light text-white mb-2",children:0===e.length?"No blueprints yet":"No matching blueprints"}),(0,t.jsx)("p",{className:"text-white/60 mb-6 font-light",children:0===e.length?"Create your first blueprint to get started":"Try adjusting your filters or search query"}),0===e.length&&(0,t.jsxs)("button",{onClick:()=>V.push("/"),className:"px-6 py-3 bg-gradient-to-r from-blue-500/90 to-blue-600/90 hover:from-blue-500 hover:to-blue-600 text-white rounded-lg transition-all inline-flex items-center gap-2",children:[(0,t.jsx)(d.Plus,{className:"w-4 h-4"}),"Create Blueprint"]})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>{let s;return(0,t.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:border-blue-500/50 transition-all cursor-pointer group",onClick:()=>{V.push(`/dashboard/blueprints/${e.id}`)},children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-white truncate group-hover:text-blue-400 transition-colors",children:e.project_name}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),Y(e.id,e.is_public)},className:"flex-shrink-0 p-1 hover:bg-white/10 rounded transition-all",title:e.is_public?"Public - Click to make private":"Private - Click to make public",children:e.is_public?(0,t.jsx)(x,{className:"w-4 h-4 text-green-400"}):(0,t.jsx)(u.Lock,{className:"w-4 h-4 text-white/40"})})]}),(0,t.jsx)("p",{className:"text-sm text-white/50 font-light",children:(s=new Date(e.created_at),new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(s))})]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),I(e.id,e.is_starred)},className:"flex-shrink-0",children:(0,t.jsx)(i,{className:`w-5 h-5 transition-colors ${e.is_starred?"fill-yellow-400 text-yellow-400":"text-white/30 hover:text-yellow-400"}`})})]}),(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsxs)("select",{value:e.status||"idea",onClick:e=>e.stopPropagation(),onChange:t=>{t.stopPropagation(),Z(e.id,t.target.value)},className:`px-3 py-1 rounded-full text-xs border font-medium cursor-pointer focus:outline-none focus:ring-2 focus:ring-white/20 ${(e=>{switch(e){case"idea":return"bg-purple-500/20 text-purple-300 border-purple-500/30";case"planning":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"building":return"bg-orange-500/20 text-orange-300 border-orange-500/30";case"shipped":return"bg-green-500/20 text-green-300 border-green-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}})(e.status||"idea")}`,children:[(0,t.jsx)("option",{value:"idea",children:"Idea"}),(0,t.jsx)("option",{value:"planning",children:"Planning"}),(0,t.jsx)("option",{value:"building",children:"Building"}),(0,t.jsx)("option",{value:"shipped",children:"Shipped"})]})}),(0,t.jsx)("p",{className:"text-white/70 text-sm font-light mb-4 line-clamp-2",children:e.summary||"No summary available"}),e.tech_stack&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.tech_stack.frontend?.slice(0,2).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-300 text-xs rounded border border-cyan-500/30 font-medium",children:e},`frontend-${s}`)),e.tech_stack.backend?.slice(0,1).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-300 text-xs rounded border border-emerald-500/30 font-medium",children:e},`backend-${s}`)),e.tech_stack.database?.slice(0,1).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-violet-500/20 text-violet-300 text-xs rounded border border-violet-500/30 font-medium",children:e},`database-${s}`))]}),e.tags&&e.tags.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.tags.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded-full",children:e},s)),e.tags.length>3&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-white/10 text-white/50 text-xs rounded-full",children:["+",e.tags.length-3]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-sm text-white/50 font-light",children:[(0,t.jsxs)("span",{children:[e.features?.length||0," features"]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:[e.risks?.length||0," risks"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t border-white/10",children:[(0,t.jsxs)("button",{onClick:t=>{t.stopPropagation(),q(e.id,e.is_archived)},className:"flex-1 px-3 py-2 bg-white/5 hover:bg-white/10 text-white/70 rounded-lg transition-all inline-flex items-center justify-center gap-2",children:[(0,t.jsx)(n,{className:"w-4 h-4"}),e.is_archived?"Unarchive":"Archive"]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),K(e.id)},className:"px-3 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg transition-all",children:(0,t.jsx)(c.Trash2,{className:"w-4 h-4"})})]})]},e.id)})})]})})}e.s(["default",()=>f],78928)}]);