module.exports=[81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(70106);let f=(0,e.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),g=(0,e.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),h=(0,e.default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var i=a.i(15618),j=a.i(81560);let k=(0,e.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var l=a.i(8406),m=a.i(90023);function n(){let[a,e]=(0,c.useState)([]),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(!1),H=(0,d.useRouter)();(0,c.useEffect)(()=>{I()},[]),(0,c.useEffect)(()=>{r&&J()},[r,v,x]),(0,c.useEffect)(()=>{K()},[a,t,z]);let I=async()=>{let a=(0,m.createClient)(),{data:{user:b}}=await a.auth.getUser();if(!b)return void H.push("/");s(b);let{data:c}=await a.from("profiles").select("subscription_status, has_paid").eq("id",b.id).single();if(c){let a=c.subscription_status||(c.has_paid?"active":null);E(a),G("active"===a)}},J=async()=>{q(!0);try{let a=new URLSearchParams;v&&a.append("starred","true"),x&&a.append("archived","true");let b=await fetch(`/api/blueprints?${a.toString()}`);if(!b.ok)throw Error("Failed to fetch blueprints");let c=await b.json();e(c.blueprints||[]);let d=new Set;c.blueprints?.forEach(a=>{a.tags?.forEach(a=>d.add(a))}),C(Array.from(d))}catch(a){console.error("Error fetching blueprints:",a)}finally{q(!1)}},K=()=>{let b=[...a];if(t){let a=t.toLowerCase();b=b.filter(b=>b.project_name.toLowerCase().includes(a)||b.project_description?.toLowerCase().includes(a)||b.summary?.toLowerCase().includes(a))}z.length>0&&(b=b.filter(a=>z.some(b=>a.tags?.includes(b)))),o(b)},L=async(b,c)=>{try{if(!(await fetch(`/api/blueprints/${b}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_starred:!c})})).ok)throw Error("Failed to update");e(a.map(a=>a.id===b?{...a,is_starred:!c}:a))}catch(a){console.error("Error toggling star:",a)}},M=async(a,b)=>{try{if(!(await fetch(`/api/blueprints/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_archived:!b})})).ok)throw Error("Failed to update");J()}catch(a){console.error("Error toggling archive:",a)}},N=async b=>{if(confirm("Are you sure you want to delete this blueprint?"))try{if(!(await fetch(`/api/blueprints/${b}`,{method:"DELETE"})).ok)throw Error("Failed to delete");e(a.filter(a=>a.id!==b))}catch(a){console.error("Error deleting blueprint:",a)}};return p?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500/20 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-white/60",children:"Loading your blueprints..."})]})}):(0,b.jsx)("div",{className:"py-12 px-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-extralight text-white mb-2",children:"My Blueprints"}),(0,b.jsx)("p",{className:"text-white/60",children:"Manage and enhance your project blueprints"})]}),(0,b.jsxs)("button",{onClick:()=>H.push("/"),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg transition-all inline-flex items-center gap-2 font-medium",children:[(0,b.jsx)(i.Plus,{className:"w-5 h-5"}),"New Blueprint"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,b.jsx)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white/50 text-sm font-light mb-1",children:"Total Blueprints"}),(0,b.jsx)("p",{className:"text-3xl font-light text-white",children:a.length})]}),(0,b.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center",children:(0,b.jsx)(l.Sparkles,{className:"w-6 h-6 text-blue-400"})})]})}),(0,b.jsx)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white/50 text-sm font-light mb-1",children:"Starred"}),(0,b.jsx)("p",{className:"text-3xl font-light text-white",children:a.filter(a=>a.is_starred).length})]}),(0,b.jsx)("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center",children:(0,b.jsx)(g,{className:"w-6 h-6 text-yellow-400"})})]})}),(0,b.jsx)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white/50 text-sm font-light mb-1",children:"This Month"}),(0,b.jsx)("p",{className:"text-3xl font-light text-white",children:a.filter(a=>{let b=new Date(a.created_at),c=new Date;return b.getMonth()===c.getMonth()&&b.getFullYear()===c.getFullYear()}).length})]}),(0,b.jsx)("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center",children:(0,b.jsx)(k,{className:"w-6 h-6 text-green-400"})})]})})]}),(0,b.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6 mb-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),(0,b.jsx)("input",{type:"text",placeholder:"Search blueprints...",value:t,onChange:a=>u(a.target.value),className:"w-full pl-10 pr-4 py-3 bg-black/20 border border-white/10 rounded-lg text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-blue-500/50 font-light"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>w(!v),className:`px-4 py-3 rounded-lg border transition-all inline-flex items-center gap-2 ${v?"bg-yellow-500/20 border-yellow-500/50 text-yellow-400":"bg-black/20 border-white/10 text-white/70 hover:border-white/20"}`,children:[(0,b.jsx)(g,{className:"w-4 h-4"}),"Starred"]}),(0,b.jsxs)("button",{onClick:()=>y(!x),className:`px-4 py-3 rounded-lg border transition-all inline-flex items-center gap-2 ${x?"bg-gray-500/20 border-gray-500/50 text-gray-400":"bg-black/20 border-white/10 text-white/70 hover:border-white/20"}`,children:[(0,b.jsx)(h,{className:"w-4 h-4"}),"Archived"]})]})]}),B.length>0&&(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,b.jsx)("span",{className:"text-white/50 text-sm font-light",children:"Tags:"}),B.map(a=>(0,b.jsx)("button",{onClick:()=>{A(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:`px-3 py-1 rounded-full text-sm transition-all ${z.includes(a)?"bg-blue-500/30 text-blue-300 border border-blue-500/50":"bg-black/20 text-white/60 border border-white/10 hover:border-white/20"}`,children:a},a))]})]}),0===n.length?(0,b.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[(0,b.jsx)(l.Sparkles,{className:"w-16 h-16 text-blue-400/50 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-light text-white mb-2",children:0===a.length?"No blueprints yet":"No matching blueprints"}),(0,b.jsx)("p",{className:"text-white/60 mb-6 font-light",children:0===a.length?"Create your first blueprint to get started":"Try adjusting your filters or search query"}),0===a.length&&(0,b.jsxs)("button",{onClick:()=>H.push("/"),className:"px-6 py-3 bg-gradient-to-r from-blue-500/90 to-blue-600/90 hover:from-blue-500 hover:to-blue-600 text-white rounded-lg transition-all inline-flex items-center gap-2",children:[(0,b.jsx)(i.Plus,{className:"w-4 h-4"}),"Create Blueprint"]})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(a=>{let c;return(0,b.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:border-blue-500/50 transition-all cursor-pointer group",onClick:()=>{H.push(`/dashboard/blueprints/${a.id}`)},children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-white truncate mb-1 group-hover:text-blue-400 transition-colors",children:a.project_name}),(0,b.jsx)("p",{className:"text-sm text-white/50 font-light",children:(c=new Date(a.created_at),new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(c))})]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),L(a.id,a.is_starred)},className:"flex-shrink-0",children:(0,b.jsx)(g,{className:`w-5 h-5 transition-colors ${a.is_starred?"fill-yellow-400 text-yellow-400":"text-white/30 hover:text-yellow-400"}`})})]}),(0,b.jsx)("p",{className:"text-white/70 text-sm font-light mb-4 line-clamp-2",children:a.summary||"No summary available"}),a.tags&&a.tags.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.tags.slice(0,3).map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded-full",children:a},c)),a.tags.length>3&&(0,b.jsxs)("span",{className:"px-2 py-1 bg-white/10 text-white/50 text-xs rounded-full",children:["+",a.tags.length-3]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-sm text-white/50 font-light",children:[(0,b.jsxs)("span",{children:[a.features?.length||0," features"]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{children:[a.risks?.length||0," risks"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t border-white/10",children:[(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),M(a.id,a.is_archived)},className:"flex-1 px-3 py-2 bg-white/5 hover:bg-white/10 text-white/70 rounded-lg transition-all inline-flex items-center justify-center gap-2",children:[(0,b.jsx)(h,{className:"w-4 h-4"}),a.is_archived?"Unarchive":"Archive"]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),N(a.id)},className:"px-3 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg transition-all",children:(0,b.jsx)(j.Trash2,{className:"w-4 h-4"})})]})]},a.id)})})]})})}a.s(["default",()=>n],20731)}];

//# sourceMappingURL=_d92b34d6._.js.map