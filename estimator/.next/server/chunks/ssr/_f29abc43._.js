module.exports=[81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},57417,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(70106);let f=(0,e.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),g=(0,e.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var h=a.i(20005),i=a.i(81560),j=a.i(90023);function k(){let[a,e]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),s=(0,d.useRouter)();(0,c.useEffect)(()=>{t(),"true"===new URLSearchParams(window.location.search).get("success")&&(r(!0),window.history.replaceState({},"","/settings"),setTimeout(()=>r(!1),5e3))},[]);let t=async()=>{let a=(0,j.createClient)(),{data:{user:b}}=await a.auth.getUser();if(!b)return void s.push("/");e(b);let{data:c}=await a.from("profiles").select("subscription_status, has_paid").eq("id",b.id).single();c&&n(c.subscription_status||(c.has_paid?"active":null)),l(!1)},u=async()=>{p(!0);try{let a=await fetch("/api/checkout",{method:"POST"});if(!a.ok)throw Error("Failed to create checkout session");let{url:b}=await a.json();window.location.href=b}catch(a){console.error("Error creating checkout session:",a),alert("Failed to start checkout. Please try again."),p(!1)}},v=async()=>{let a=(0,j.createClient)();await a.auth.signOut(),s.push("/")},w=async()=>{confirm("Are you sure you want to delete your account? This action cannot be undone and all your blueprints will be permanently deleted.")&&("DELETE"!==prompt('Type "DELETE" to confirm account deletion:')?alert("Account deletion cancelled."):alert("Account deletion will be implemented soon"))};return k?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-8 h-8 border-2 border-white/30 border-t-white rounded-full animate-spin"})}):(0,b.jsx)("div",{className:"py-12 px-6",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-extralight text-white mb-2",children:"Settings"}),(0,b.jsx)("p",{className:"text-white/60",children:"Manage your account and subscription"})]}),(0,b.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-8 mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-light text-white mb-4",children:"Account Information"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-white/50 mb-1",children:"Email"}),(0,b.jsx)("p",{className:"text-white",children:a?.email})]}),a?.user_metadata?.full_name&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-white/50 mb-1",children:"Name"}),(0,b.jsx)("p",{className:"text-white",children:a.user_metadata.full_name})]})]})]}),q&&(0,b.jsxs)("div",{className:"bg-green-500/20 border border-green-500/50 rounded-xl p-4 mb-6 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,b.jsx)("p",{className:"text-green-400 text-sm font-medium",children:"Successfully upgraded to Pro! Your subscription is now active."})]}),(0,b.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-8 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-light text-white mb-2",children:"Subscription"}),(0,b.jsx)("p",{className:"text-white/60 text-sm",children:"Manage your billing and subscription"})]}),(0,b.jsx)(f,{className:"w-6 h-6 text-blue-400"})]}),(0,b.jsxs)("div",{className:"bg-black/30 border border-white/10 rounded-lg p-6 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-white font-medium",children:"Current Plan"}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-sm ${"active"===m?"bg-blue-500/20 text-blue-400":"bg-white/10 text-white/60"}`,children:"active"===m?"Pro":"Free"})]}),"active"===m?(0,b.jsx)("p",{className:"text-white/60 text-sm",children:"You have access to all Pro features"}):(0,b.jsx)("p",{className:"text-white/60 text-sm",children:"Upgrade to Pro for unlimited blueprints and advanced features"})]}),"active"!==m&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-lg p-6 mb-6",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-medium text-white mb-1",children:"Spark Pro"}),(0,b.jsxs)("div",{className:"flex items-baseline gap-2 mb-3",children:[(0,b.jsx)("span",{className:"text-3xl font-light text-white",children:"$29"}),(0,b.jsx)("span",{className:"text-white/60 text-sm",children:"/month"})]})]})}),(0,b.jsxs)("ul",{className:"space-y-3 mb-6",children:[(0,b.jsxs)("li",{className:"flex items-start gap-2 text-white/80 text-sm",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"}),(0,b.jsx)("span",{children:"Unlimited blueprint generation"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2 text-white/80 text-sm",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"}),(0,b.jsx)("span",{children:"Save unlimited blueprints to library"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2 text-white/80 text-sm",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"}),(0,b.jsx)("span",{children:"Advanced blueprint enhancements"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2 text-white/80 text-sm",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"}),(0,b.jsx)("span",{children:"Target audience analysis"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2 text-white/80 text-sm",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"}),(0,b.jsx)("span",{children:"Monetization strategies"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2 text-white/80 text-sm",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"}),(0,b.jsx)("span",{children:"MVP comparison & roadmap"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2 text-white/80 text-sm",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"}),(0,b.jsx)("span",{children:"Priority support"})]})]}),(0,b.jsx)("button",{onClick:u,disabled:o,className:"w-full px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Redirecting to checkout...":"Upgrade to Pro"})]}),"active"===m&&(0,b.jsx)("button",{onClick:()=>{alert("Customer portal coming soon! You can manage your subscription from Stripe.")},className:"w-full px-6 py-3 bg-white/5 hover:bg-white/10 border border-white/10 text-white rounded-lg transition-all",children:"Manage Subscription"})]}),(0,b.jsxs)("div",{className:"bg-black/20 backdrop-blur-xl border border-red-500/20 rounded-xl p-8",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-light text-red-400 mb-2",children:"Danger Zone"}),(0,b.jsx)("p",{className:"text-white/60 text-sm",children:"Irreversible and destructive actions"})]}),(0,b.jsx)(g,{className:"w-6 h-6 text-red-400"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"bg-black/30 border border-white/10 rounded-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-white font-medium mb-1",children:"Log Out"}),(0,b.jsx)("p",{className:"text-white/60 text-sm",children:"Sign out of your account on this device"})]}),(0,b.jsxs)("button",{onClick:v,className:"px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,b.jsx)(h.LogOut,{className:"w-4 h-4"}),"Log Out"]})]})}),(0,b.jsx)("div",{className:"bg-red-500/5 border border-red-500/20 rounded-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-red-400 font-medium mb-1",children:"Delete Account"}),(0,b.jsx)("p",{className:"text-white/60 text-sm",children:"Permanently delete your account and all data"}),(0,b.jsx)("p",{className:"text-red-400/80 text-xs mt-2",children:"This action cannot be undone!"})]}),(0,b.jsxs)("button",{onClick:w,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-400 rounded-lg transition-all flex items-center gap-2",children:[(0,b.jsx)(i.Trash2,{className:"w-4 h-4"}),"Delete"]})]})})]})]})]})})}a.s(["default",()=>k],57417)}];

//# sourceMappingURL=_f29abc43._.js.map