{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayanosman/dev-portfolio/estimator/lib/auth/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport function createClient() {\n  return createBrowserClient(supabaseUrl, supabaseAnonKey);\n}\n\n// Auth helpers for client-side\nexport async function signIn(email: string, password: string) {\n  const supabase = createClient();\n  return await supabase.auth.signInWithPassword({\n    email,\n    password,\n  });\n}\n\nexport async function signInWithGoogle() {\n  const supabase = createClient();\n  return await supabase.auth.signInWithOAuth({\n    provider: 'google',\n    options: {\n      redirectTo: `${window.location.origin}/auth/callback`,\n      queryParams: {\n        access_type: 'offline',\n        prompt: 'consent',\n      },\n    },\n  });\n}\n\nexport async function signOut() {\n  const supabase = createClient();\n  return await supabase.auth.signOut();\n}\n\nexport async function getSession() {\n  const supabase = createClient();\n  const { data } = await supabase.auth.getSession();\n  return data.session;\n}\n\nexport async function getUser() {\n  const supabase = createClient();\n  const { data } = await supabase.auth.getUser();\n  return data.user;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,SAAS;IACd,OAAO,IAAA,iMAAmB,EAAC,aAAa;AAC1C;AAGO,eAAe,OAAO,KAAa,EAAE,QAAgB;IAC1D,MAAM,WAAW;IACjB,OAAO,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;QAC5C;QACA;IACF;AACF;AAEO,eAAe;IACpB,MAAM,WAAW;IACjB,OAAO,MAAM,SAAS,IAAI,CAAC,eAAe,CAAC;QACzC,UAAU;QACV,SAAS;YACP,YAAY,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC;YACrD,aAAa;gBACX,aAAa;gBACb,QAAQ;YACV;QACF;IACF;AACF;AAEO,eAAe;IACpB,MAAM,WAAW;IACjB,OAAO,MAAM,SAAS,IAAI,CAAC,OAAO;AACpC;AAEO,eAAe;IACpB,MAAM,WAAW;IACjB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;IAC/C,OAAO,KAAK,OAAO;AACrB;AAEO,eAAe;IACpB,MAAM,WAAW;IACjB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAC5C,OAAO,KAAK,IAAI;AAClB"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayanosman/dev-portfolio/estimator/app/my-estimates/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Sparkles, Trash2, Eye, ArrowLeft, Loader2 } from \"lucide-react\";\nimport { createClient } from \"@/lib/auth/client\";\nimport type { ProjectEstimate } from \"@/lib/ai/types\";\n\ninterface SavedEstimate {\n  id: string;\n  project_description: string;\n  estimate: ProjectEstimate;\n  created_at: string;\n}\n\nexport default function MyEstimatesPage() {\n  const [estimates, setEstimates] = useState<SavedEstimate[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedEstimate, setSelectedEstimate] = useState<SavedEstimate | null>(null);\n  const [user, setUser] = useState<any>(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    checkAuthAndLoadEstimates();\n  }, []);\n\n  const checkAuthAndLoadEstimates = async () => {\n    const supabase = createClient();\n    const { data: { user } } = await supabase.auth.getUser();\n\n    if (!user) {\n      router.push(\"/auth/login\");\n      return;\n    }\n\n    setUser(user);\n\n    // Load user's saved estimates\n    const { data, error } = await supabase\n      .from('user_estimates')\n      .select('*')\n      .eq('user_id', user.id)\n      .order('created_at', { ascending: false });\n\n    if (error) {\n      console.error(\"Error loading estimates:\", error);\n    } else {\n      setEstimates(data || []);\n    }\n\n    setIsLoading(false);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm(\"Are you sure you want to delete this estimate?\")) {\n      return;\n    }\n\n    const supabase = createClient();\n    const { error } = await supabase\n      .from('user_estimates')\n      .delete()\n      .eq('id', id);\n\n    if (error) {\n      console.error(\"Error deleting estimate:\", error);\n      alert(\"Failed to delete estimate\");\n    } else {\n      setEstimates(estimates.filter(e => e.id !== id));\n      if (selectedEstimate?.id === id) {\n        setSelectedEstimate(null);\n      }\n    }\n  };\n\n  const handleSignOut = async () => {\n    const supabase = createClient();\n    await supabase.auth.signOut();\n    router.push(\"/\");\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Loader2 className=\"w-12 h-12 text-blue-400 animate-spin mx-auto mb-4\" />\n          <p className=\"text-white/60 font-light\">Loading your estimates...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black relative overflow-hidden\">\n      {/* Background effects */}\n      <div className=\"absolute inset-0 bg-gradient-to-r from-blue-500/3 via-transparent to-blue-500/3\"></div>\n      <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl\"></div>\n      <div className=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl\"></div>\n\n      {/* Header */}\n      <header className=\"fixed top-0 left-0 right-0 z-50\">\n        <div className=\"absolute inset-0 bg-black/40 backdrop-blur-xl border-b border-white/10\"></div>\n        <div className=\"relative w-full px-6 lg:px-12 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <button\n              onClick={() => router.push(\"/\")}\n              className=\"flex items-center gap-2 text-white/70 hover:text-blue-400 transition-all font-light\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              New Estimate\n            </button>\n            <h1 className=\"text-xl font-extralight tracking-tight\">\n              <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-blue-300\">My Estimates</span>\n            </h1>\n            <button\n              onClick={handleSignOut}\n              className=\"text-sm text-white/70 hover:text-blue-400 transition-all font-light\"\n            >\n              Sign Out\n            </button>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"pt-32 pb-20 px-6 relative z-10\">\n        <div className=\"max-w-7xl mx-auto\">\n          {estimates.length === 0 ? (\n            <div className=\"text-center py-20\">\n              <Sparkles className=\"w-16 h-16 text-blue-400/50 mx-auto mb-6\" />\n              <h2 className=\"text-2xl font-light text-white mb-4\">No saved estimates yet</h2>\n              <p className=\"text-white/60 mb-8 font-light\">\n                Generate and save your first project estimate to get started\n              </p>\n              <button\n                onClick={() => router.push(\"/\")}\n                className=\"px-6 py-3 bg-gradient-to-r from-blue-500/90 to-blue-600/90 hover:from-blue-500 hover:to-blue-600 text-white rounded-lg transition-all font-medium\"\n              >\n                Create New Estimate\n              </button>\n            </div>\n          ) : (\n            <div className=\"grid lg:grid-cols-2 gap-6\">\n              {/* Estimates List */}\n              <div className=\"space-y-4\">\n                <h2 className=\"text-2xl font-light text-white mb-6\">\n                  Saved Estimates ({estimates.length})\n                </h2>\n                {estimates.map((estimate) => (\n                  <div\n                    key={estimate.id}\n                    className=\"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:border-white/20 transition-all\"\n                  >\n                    <h3 className=\"text-lg font-medium text-white mb-2\">\n                      {estimate.estimate.projectName}\n                    </h3>\n                    <p className=\"text-sm text-white/60 mb-2 font-light line-clamp-2\">\n                      {estimate.project_description}\n                    </p>\n                    <p className=\"text-xs text-white/40 mb-4 font-light\">\n                      Saved {new Date(estimate.created_at).toLocaleDateString('en-US', {\n                        month: 'short',\n                        day: 'numeric',\n                        year: 'numeric'\n                      })}\n                    </p>\n                    <div className=\"flex gap-2\">\n                      <button\n                        onClick={() => setSelectedEstimate(estimate)}\n                        className=\"flex-1 px-4 py-2 bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/20 text-blue-400 rounded-lg transition-all text-sm font-medium flex items-center justify-center gap-2\"\n                      >\n                        <Eye className=\"w-4 h-4\" />\n                        View Details\n                      </button>\n                      <button\n                        onClick={() => handleDelete(estimate.id)}\n                        className=\"px-4 py-2 bg-white/5 hover:bg-red-500/10 border border-white/10 hover:border-red-500/20 text-white/70 hover:text-red-400 rounded-lg transition-all text-sm\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {/* Estimate Details */}\n              <div className=\"lg:sticky lg:top-32 h-fit\">\n                {selectedEstimate ? (\n                  <div className=\"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-8 space-y-6\">\n                    <div>\n                      <h2 className=\"text-3xl font-light text-white mb-3\">\n                        {selectedEstimate.estimate.projectName}\n                      </h2>\n                      <p className=\"text-white/60 font-light leading-relaxed\">\n                        {selectedEstimate.estimate.summary}\n                      </p>\n                    </div>\n\n                    {/* Features */}\n                    <div>\n                      <h3 className=\"text-xl font-light text-white mb-3\">Core Features</h3>\n                      <div className=\"space-y-2\">\n                        {selectedEstimate.estimate.features.map((feature, index) => (\n                          <div key={index} className=\"flex items-start gap-2\">\n                            <span className=\"text-blue-400 mt-1\">â€¢</span>\n                            <span className=\"text-white/70 font-light text-sm\">{feature}</span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Tech Stack */}\n                    <div>\n                      <h3 className=\"text-xl font-light text-white mb-3\">Tech Stack</h3>\n                      <div className=\"space-y-3\">\n                        {Object.entries(selectedEstimate.estimate.techStack).map(([category, technologies]) => (\n                          <div key={category}>\n                            <h4 className=\"text-xs font-medium text-white/50 uppercase mb-2 tracking-wider\">\n                              {category}\n                            </h4>\n                            <div className=\"flex flex-wrap gap-2\">\n                              {technologies.map((tech, index) => (\n                                <span\n                                  key={index}\n                                  className=\"px-2 py-1 bg-black/20 border border-white/10 rounded text-xs text-blue-400 font-light\"\n                                >\n                                  {tech}\n                                </span>\n                              ))}\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Next Steps */}\n                    {selectedEstimate.estimate.nextSteps && (\n                      <div>\n                        <h3 className=\"text-xl font-light text-white mb-3\">Next Steps</h3>\n                        <ol className=\"space-y-2\">\n                          {selectedEstimate.estimate.nextSteps.map((step, index) => (\n                            <li key={index} className=\"flex items-start gap-3\">\n                              <span className=\"flex-shrink-0 w-5 h-5 bg-blue-500/20 text-blue-400 rounded-full flex items-center justify-center text-xs font-medium\">\n                                {index + 1}\n                              </span>\n                              <span className=\"text-white/70 font-light text-sm\">{step}</span>\n                            </li>\n                          ))}\n                        </ol>\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-8 text-center\">\n                    <Eye className=\"w-12 h-12 text-white/20 mx-auto mb-4\" />\n                    <p className=\"text-white/40 font-light\">\n                      Select an estimate to view details\n                    </p>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}