{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayanosman/dev-portfolio/packages/auth/src/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\";\nimport { cookies } from \"next/headers\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport async function createClient() {\n  const cookieStore = await cookies();\n\n  return createServerClient(supabaseUrl, supabaseAnonKey, {\n    cookies: {\n      getAll() {\n        return cookieStore.getAll();\n      },\n      setAll(cookiesToSet) {\n        try {\n          cookiesToSet.forEach(({ name, value, options }) =>\n            cookieStore.set(name, value, options)\n          );\n        } catch {\n          // The `setAll` method was called from a Server Component.\n          // This can be ignored if you have middleware refreshing\n          // user sessions.\n        }\n      },\n    },\n  });\n}\n\n// Auth helpers for server-side\nexport async function getSession() {\n  const supabase = await createClient();\n  const { data } = await supabase.auth.getSession();\n  return data.session;\n}\n\nexport async function getUser() {\n  const supabase = await createClient();\n  const { data } = await supabase.auth.getUser();\n  return data.user;\n}\n\nexport async function requireAuth() {\n  const user = await getUser();\n  if (!user) {\n    throw new Error(\"Unauthorized\");\n  }\n  return user;\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AACA;;;AAEA,MAAM;AACN,MAAM;AAEC,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,yQAAO;IAEjC,OAAO,IAAA,4SAAkB,EAAC,aAAa,iBAAiB;QACtD,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AACF;AAGO,eAAe;IACpB,MAAM,WAAW,MAAM;IACvB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;IAC/C,OAAO,KAAK,OAAO;AACrB;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM;IACvB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAC5C,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,OAAO,MAAM;IACnB,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayanosman/dev-portfolio/packages/database/src/client.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || \"https://placeholder.supabase.co\";\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || \"placeholder-key\";\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\nexport function getSupabaseClient() {\n  return supabase;\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,wPAA6C;AAE9D,MAAM,WAAW,IAAA,iQAAY,EAAC,aAAa;AAE3C,SAAS;IACd,OAAO;AACT"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayanosman/dev-portfolio/apps/estimator/app/admin/components/LogoutButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/apps/estimator/app/admin/components/LogoutButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/estimator/app/admin/components/LogoutButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,uYAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwT,GACrV,sFACA","ignoreList":[0]}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayanosman/dev-portfolio/apps/estimator/app/admin/components/LogoutButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/apps/estimator/app/admin/components/LogoutButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/estimator/app/admin/components/LogoutButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,uYAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","ignoreList":[0]}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayanosman/dev-portfolio/apps/estimator/app/admin/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\";\nimport { getUser } from \"@repo/auth/server\";\nimport { supabase } from \"@repo/database/client\";\nimport { LogOut, BarChart3, Users, FileText } from \"lucide-react\";\nimport LogoutButton from \"./components/LogoutButton\";\n\nexport const dynamic = \"force-dynamic\";\n\nasync function getEstimates() {\n  const { data, error } = await supabase\n    .from(\"estimates\")\n    .select(\"*\")\n    .order(\"created_at\", { ascending: false })\n    .limit(50);\n\n  if (error) {\n    console.error(\"Error fetching estimates:\", error);\n    return [];\n  }\n\n  return data || [];\n}\n\nasync function getLeads() {\n  const { data, error } = await supabase\n    .from(\"leads\")\n    .select(\"*\")\n    .order(\"created_at\", { ascending: false })\n    .limit(50);\n\n  if (error) {\n    console.error(\"Error fetching leads:\", error);\n    return [];\n  }\n\n  return data || [];\n}\n\nexport default async function AdminPage() {\n  const user = await getUser();\n\n  if (!user) {\n    redirect(\"/auth/login\");\n  }\n\n  const estimates = await getEstimates();\n  const leads = await getLeads();\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black\">\n      {/* Background effects */}\n      <div className=\"absolute inset-0 bg-gradient-to-r from-blue-500/3 via-transparent to-blue-500/3\"></div>\n      <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl\"></div>\n      <div className=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl\"></div>\n\n      {/* Header */}\n      <header className=\"fixed top-0 left-0 right-0 z-50 border-b border-white/10 bg-black/40 backdrop-blur-xl\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-xl font-extralight\">\n                <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-blue-300\">\n                  Scope AI\n                </span>\n                <span className=\"text-white/40 ml-2\">/ Admin</span>\n              </h1>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <span className=\"text-sm text-white/60 font-light\">{user.email}</span>\n              <LogoutButton />\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"relative pt-32 pb-20 px-6\">\n        <div className=\"max-w-7xl mx-auto\">\n          {/* Stats */}\n          <div className=\"grid md:grid-cols-3 gap-6 mb-12\">\n            <div className=\"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <BarChart3 className=\"w-8 h-8 text-blue-400\" />\n              </div>\n              <p className=\"text-3xl font-light text-white mb-1\">{estimates.length}</p>\n              <p className=\"text-sm text-white/60 font-light\">Total Estimates</p>\n            </div>\n\n            <div className=\"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <Users className=\"w-8 h-8 text-blue-400\" />\n              </div>\n              <p className=\"text-3xl font-light text-white mb-1\">{leads.length}</p>\n              <p className=\"text-sm text-white/60 font-light\">Qualified Leads</p>\n            </div>\n\n            <div className=\"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <FileText className=\"w-8 h-8 text-blue-400\" />\n              </div>\n              <p className=\"text-3xl font-light text-white mb-1\">\n                {estimates.length > 0 ? Math.round((leads.length / estimates.length) * 100) : 0}%\n              </p>\n              <p className=\"text-sm text-white/60 font-light\">Conversion Rate</p>\n            </div>\n          </div>\n\n          {/* Leads Table */}\n          <div className=\"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-8 mb-8\">\n            <h2 className=\"text-2xl font-light text-white mb-6\">Recent Leads</h2>\n            {leads.length === 0 ? (\n              <p className=\"text-white/40 font-light text-center py-8\">No leads yet</p>\n            ) : (\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead>\n                    <tr className=\"border-b border-white/10\">\n                      <th className=\"text-left py-3 px-4 text-sm font-medium text-white/60\">Name</th>\n                      <th className=\"text-left py-3 px-4 text-sm font-medium text-white/60\">Email</th>\n                      <th className=\"text-left py-3 px-4 text-sm font-medium text-white/60\">Project</th>\n                      <th className=\"text-left py-3 px-4 text-sm font-medium text-white/60\">Date</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {leads.map((lead: any) => (\n                      <tr key={lead.id} className=\"border-b border-white/5 hover:bg-white/5 transition-colors\">\n                        <td className=\"py-3 px-4 text-sm text-white font-light\">{lead.name || \"N/A\"}</td>\n                        <td className=\"py-3 px-4 text-sm text-white/70 font-light\">{lead.email}</td>\n                        <td className=\"py-3 px-4 text-sm text-white/50 font-light max-w-md truncate\">\n                          {lead.project_description?.substring(0, 80)}...\n                        </td>\n                        <td className=\"py-3 px-4 text-sm text-white/40 font-light\">\n                          {new Date(lead.created_at).toLocaleDateString()}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n\n          {/* Estimates Table */}\n          <div className=\"bg-black/20 backdrop-blur-xl border border-white/10 rounded-xl p-8\">\n            <h2 className=\"text-2xl font-light text-white mb-6\">Recent Estimates</h2>\n            {estimates.length === 0 ? (\n              <p className=\"text-white/40 font-light text-center py-8\">No estimates yet</p>\n            ) : (\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead>\n                    <tr className=\"border-b border-white/10\">\n                      <th className=\"text-left py-3 px-4 text-sm font-medium text-white/60\">Project</th>\n                      <th className=\"text-left py-3 px-4 text-sm font-medium text-white/60\">Description</th>\n                      <th className=\"text-left py-3 px-4 text-sm font-medium text-white/60\">Date</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {estimates.map((estimate: any) => (\n                      <tr key={estimate.id} className=\"border-b border-white/5 hover:bg-white/5 transition-colors\">\n                        <td className=\"py-3 px-4 text-sm text-white font-light\">\n                          {estimate.estimate?.projectName || \"N/A\"}\n                        </td>\n                        <td className=\"py-3 px-4 text-sm text-white/70 font-light max-w-md truncate\">\n                          {estimate.project_description?.substring(0, 100)}...\n                        </td>\n                        <td className=\"py-3 px-4 text-sm text-white/40 font-light\">\n                          {new Date(estimate.created_at).toLocaleDateString()}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}