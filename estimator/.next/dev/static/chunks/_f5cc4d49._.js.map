{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayanosman/dev-portfolio/estimator/lib/auth/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport function createClient() {\n  return createBrowserClient(supabaseUrl, supabaseAnonKey);\n}\n\n// Auth helpers for client-side\nexport async function signIn(email: string, password: string) {\n  const supabase = createClient();\n  return await supabase.auth.signInWithPassword({\n    email,\n    password,\n  });\n}\n\nexport async function signInWithGoogle() {\n  const supabase = createClient();\n  return await supabase.auth.signInWithOAuth({\n    provider: 'google',\n    options: {\n      redirectTo: `${window.location.origin}/auth/callback`,\n      queryParams: {\n        access_type: 'offline',\n        prompt: 'consent',\n      },\n    },\n  });\n}\n\nexport async function signOut() {\n  const supabase = createClient();\n  return await supabase.auth.signOut();\n}\n\nexport async function getSession() {\n  const supabase = createClient();\n  const { data } = await supabase.auth.getSession();\n  return data.session;\n}\n\nexport async function getUser() {\n  const supabase = createClient();\n  const { data } = await supabase.auth.getUser();\n  return data.user;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAEoB;AAFpB;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,SAAS;IACd,OAAO,IAAA,oMAAmB,EAAC,aAAa;AAC1C;AAGO,eAAe,OAAO,KAAa,EAAE,QAAgB;IAC1D,MAAM,WAAW;IACjB,OAAO,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;QAC5C;QACA;IACF;AACF;AAEO,eAAe;IACpB,MAAM,WAAW;IACjB,OAAO,MAAM,SAAS,IAAI,CAAC,eAAe,CAAC;QACzC,UAAU;QACV,SAAS;YACP,YAAY,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC;YACrD,aAAa;gBACX,aAAa;gBACb,QAAQ;YACV;QACF;IACF;AACF;AAEO,eAAe;IACpB,MAAM,WAAW;IACjB,OAAO,MAAM,SAAS,IAAI,CAAC,OAAO;AACpC;AAEO,eAAe;IACpB,MAAM,WAAW;IACjB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;IAC/C,OAAO,KAAK,OAAO;AACrB;AAEO,eAAe;IACpB,MAAM,WAAW;IACjB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAC5C,OAAO,KAAK,IAAI;AAClB"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayanosman/dev-portfolio/estimator/app/dashboard/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Sparkles, Settings, LogOut, ChevronDown } from \"lucide-react\";\nimport { createClient } from \"@/lib/auth/client\";\n\nexport default function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [user, setUser] = useState<any>(null);\n  const [showProfileDropdown, setShowProfileDropdown] = useState(false);\n  const router = useRouter();\n\n  useEffect(() => {\n    checkAuth();\n  }, []);\n\n  const checkAuth = async () => {\n    const supabase = createClient();\n    const { data: { user } } = await supabase.auth.getUser();\n\n    if (!user) {\n      router.push(\"/\");\n      return;\n    }\n\n    setUser(user);\n  };\n\n  const handleLogout = async () => {\n    const supabase = createClient();\n    await supabase.auth.signOut();\n    router.push(\"/\");\n  };\n\n  const getAvatarUrl = (email: string) => {\n    const name = email.split('@')[0];\n    return `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=3b82f6&color=fff&size=128&bold=true`;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black\">\n      {/* Background effects */}\n      <div className=\"fixed inset-0 bg-gradient-to-r from-blue-500/3 via-transparent to-blue-500/3 pointer-events-none\"></div>\n      <div className=\"fixed top-1/4 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl pointer-events-none\"></div>\n      <div className=\"fixed bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl pointer-events-none\"></div>\n\n      {/* Header */}\n      <header className=\"relative z-20 border-b border-white/10 bg-black/40 backdrop-blur-xl\">\n        <div className=\"max-w-7xl mx-auto px-6\">\n          <div className=\"flex items-center justify-between h-20\">\n            {/* Logo */}\n            <div className=\"flex items-center gap-2\">\n              <Sparkles className=\"w-6 h-6 text-blue-400\" />\n              <h1 className=\"text-xl font-light text-white\">\n                <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-blue-300\">Spark</span>\n              </h1>\n            </div>\n\n            {/* Spacer */}\n            <div className=\"flex-1\"></div>\n\n            {/* User Profile */}\n            {user && (\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowProfileDropdown(!showProfileDropdown)}\n                  className=\"flex items-center gap-3 hover:opacity-80 transition-opacity\"\n                >\n                  <div className=\"text-right hidden md:block\">\n                    <p className=\"text-sm font-medium text-white\">{user.user_metadata?.full_name || user.email?.split('@')[0]}</p>\n                    <p className=\"text-xs text-white/50\">{user.email}</p>\n                  </div>\n                  <div className=\"relative\">\n                    <img\n                      src={user.email ? getAvatarUrl(user.email) : ''}\n                      alt={user.user_metadata?.full_name || user.email || 'User'}\n                      className=\"w-10 h-10 rounded-full border-2 border-blue-500/50 bg-blue-500\"\n                      onError={(e) => {\n                        e.currentTarget.style.display = 'none';\n                        const fallback = e.currentTarget.nextElementSibling as HTMLElement;\n                        if (fallback) fallback.style.display = 'flex';\n                      }}\n                    />\n                    <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center border-2 border-blue-500/50\" style={{ display: 'none' }}>\n                      <span className=\"text-white font-medium text-sm\">\n                        {(user.user_metadata?.full_name || user.email || 'U')[0].toUpperCase()}\n                      </span>\n                    </div>\n                  </div>\n                  <ChevronDown className=\"w-4 h-4 text-white/50 hidden md:block\" />\n                </button>\n\n                {showProfileDropdown && (\n                  <>\n                    <div\n                      className=\"fixed inset-0 z-40\"\n                      onClick={() => setShowProfileDropdown(false)}\n                    />\n                    <div className=\"absolute right-0 mt-2 w-56 bg-black/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl z-50 overflow-hidden\">\n                      <div className=\"p-3 border-b border-white/10\">\n                        <p className=\"text-sm font-medium text-white truncate\">{user.user_metadata?.full_name || user.email?.split('@')[0]}</p>\n                        <p className=\"text-xs text-white/50 truncate\">{user.email}</p>\n                      </div>\n\n                      <div className=\"py-1\">\n                        <button\n                          onClick={() => {\n                            setShowProfileDropdown(false);\n                            router.push('/dashboard');\n                          }}\n                          className=\"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-white/5 transition-colors text-left\"\n                        >\n                          <Sparkles className=\"w-4 h-4 text-white/70\" />\n                          <span className=\"text-sm text-white/90\">Blueprints</span>\n                        </button>\n\n                        <button\n                          onClick={() => {\n                            setShowProfileDropdown(false);\n                            router.push('/dashboard/settings');\n                          }}\n                          className=\"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-white/5 transition-colors text-left\"\n                        >\n                          <Settings className=\"w-4 h-4 text-white/70\" />\n                          <span className=\"text-sm text-white/90\">Settings</span>\n                        </button>\n\n                        <button\n                          onClick={() => {\n                            setShowProfileDropdown(false);\n                            handleLogout();\n                          }}\n                          className=\"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-white/5 transition-colors text-left\"\n                        >\n                          <LogOut className=\"w-4 h-4 text-white/70\" />\n                          <span className=\"text-sm text-white/90\">Log Out</span>\n                        </button>\n                      </div>\n                    </div>\n                  </>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"relative z-10\">\n        {children}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}